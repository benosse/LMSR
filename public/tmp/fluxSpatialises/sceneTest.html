<html>
  <head>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.2.0/dist/aframe-orbit-controls.min.js"></script> 
  <script src="https://unpkg.com/aframe-supercraft-loader@1.1.3/dist/aframe-supercraft-loader.js"></script>
    
    <script src= "/components.js" > </script>  
  
  </head>
<!---->

  <body>

    <a-scene>

      <!-----------get flux------------->
      
      <a-entity id="vent" getaudio="src: http://51.178.138.251:8000/vent"></a-entity>
      <a-entity id="jardin1" getaudio="src: http://51.178.138.251:8000/jardin1"></a-entity>
      <a-entity id="etudiants" getaudio="src: http://51.178.138.251:8000/lesEtudiants"></a-entity>
      
      <!-----------set cam----------->
      <a-entity 
      id="cam" 
      camera="active: true"  
      listener 
      wasd-controls 
      position="0 0 0" 
      position-reader
      orbit-controls="target: 0 0 0; minDistance: 0.5; maxDistance: 180; initialPosition: 0 20 0; maxPolarAngle: 180"
      >
    </a-entity>

      <!-----------set sky----------->
      <a-sky color="#ECECEC"></a-sky>

      <!-----LES ETUDIANTS-------->
      <!-----le soin-------->
      <a-gltf-model src="/models/Le_soin.gltf">
        <a-gltf-model src="/models/Apostrophe_chetan.gltf"></a-gltf-model>
        <a-gltf-model src="/models/Apostrophe_ines.gltf"></a-gltf-model>
        <a-gltf-model src="/models/Cartel_chetan.gltf"></a-gltf-model>
        <a-gltf-model src="/models/Cartel_ines.gltf"></a-gltf-model>
        <a-gltf-model src="/models/Titre_le_soin.gltf"></a-gltf-model>

        <!--audioSource
        <a-box stream="audioID:#etudiants; listener:#cam; split:true; canal:0" position="-40.010 1.2 -5" rotation="0 45 0" color="#f2f200" ></a-box> 
        <a-box stream="audioID:#etudiants; listener:#cam; split:true; canal:1" position="-14 23 40" rotation="0 45 0" color="#f200f2" ></a-box> 
        <a-box stream="audioID:#etudiants; listener:#cam; split:true; canal:2" position="-3 -30 -16" rotation="0 45 0" color="#f200f2" ></a-box> 
        <a-box stream="audioID:#etudiants; listener:#cam; split:true; canal:3" position="43 31 13" rotation="0 45 0" color="#f200f2" ></a-box> 
        <a-box stream="audioID:#etudiants; listener:#cam; split:true; canal:4" position="26 1.5 -35" rotation="0 45 0" color="#f200f2" ></a-box> 

      </a-gltf-model>
     
    -->


      <!-----------jardin------------->
      <a-box stream="audioID:#jardin1; listener:#cam; split:true; canal:0" position="-40.010 1.2 -5" rotation="0 45 0" color="#f2f200" ></a-box> 
      <a-box stream="audioID:#jardin1; listener:#cam; split:true; canal:1" position="-14 23 40" rotation="0 45 0" color="#f200f2" ></a-box> 
      <a-box stream="audioID:#jardin1; listener:#cam; split:true; canal:2" position="-3 -40 -16" rotation="0 45 0" color="#f2f800" ></a-box>       
      <a-box stream="audioID:#jardin1; listener:#cam; split:true; canal:3" position="40 31 13" rotation="0 45 0" color="#f200f2" ></a-box> 
      <a-box stream="audioID:#jardin1; listener:#cam; split:true; canal:4" position="26 1.5 -40" rotation="0 45 0" color="#f2f800" ></a-box> 

    </a-scene>
  </body>
</html>
